(function(t){function e(e){for(var r,l,c=e[0],a=e[1],u=e[2],p=0,f=[];p<c.length;p++)l=c[p],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&f.push(o[l][0]),o[l]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);s&&s(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(r=!1)}r&&(i.splice(e--,1),t=l(l.s=n[0]))}return t}var r={},o={app:0},i=[];function l(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=r,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(n,r,function(e){return t[e]}.bind(null,r));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/puzzle/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var s=a;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"11d9":function(t,e,n){t.exports=n.p+"img/3.a7d66b45.jpg"},"405a":function(t,e,n){t.exports=n.p+"img/2.8d49ba21.jpg"},"4d0f":function(t,e,n){t.exports=n.p+"img/5.9ecb99e0.jpg"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("d-puzzle",t._b({on:{next:t.handleNext}},"d-puzzle",t.puzzleConfig[t.level],!1))],1)},i=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"puzzle",style:{width:t.width+"px",height:t.height+"px"}},t._l(t.blockPoints,(function(e,r){return n("div",{key:e.id,ref:r===t.blockPoints.length-1?"empty":"block",refInFor:!0,staticClass:"puzzle__block",style:{width:t.blockWidth+"px",height:t.blockHeight+"px",left:e.x+"px",top:e.y+"px",backgroundImage:"url("+t.img+")",backgroundPosition:"-"+t.correctPoints[r].x+"px -"+t.correctPoints[r].y+"px",opacity:r===t.blockPoints.length-1&&0},attrs:{"data-correctX":t.correctPoints[r].x,"data-correcty":t.correctPoints[r].y},on:{click:t.handleClick}})})),0)},c=[],a=(n("a623"),n("c975"),n("a9e3"),n("2909")),u={props:{width:{type:Number,default:500},height:{type:Number,default:500},row:{type:Number,default:3},col:{type:Number,default:3},img:{type:String,required:!0}},computed:{blockWidth:function(){return this.width/this.col},blockHeight:function(){return this.height/this.row},correctPoints:function(){for(var t=this.row,e=this.col,n=this.blockWidth,r=this.blockHeight,o=[],i=0;i<t;i++)for(var l=0;l<e;l++)o.push({x:l*n,y:i*r,id:(new Date).getTime()+100*Math.random()});return o},blockPoints:function(){var t=this.correctPoints,e=t.length,n=t[e-1],r=Object(a["a"])(t);r.length=e-1;var o=Object(a["a"])(r);r.sort((function(){return Math.random()-.5}));for(var i=0;i<o.length-1;i+=2){var l=o.indexOf(r[i]),c=o.indexOf(r[i+1]);o[l]=o[c],o[c]=t[l]}return o.push(n),o}},methods:{handleClick:function(t){var e=t.target,n=this.$refs.empty[0];if(this.isAdjacent(e,n)){var r=e.style,o=r.left,i=r.top;e.style.left=n.style.left,e.style.top=n.style.top,n.style.left=o,n.style.top=i;var l=this.checkWin();l&&this.winGame(n)}},isAdjacent:function(t,e){var n=t.style,r=n.left,o=n.top,i=n.width,l=n.height,c=e.style,a=c.left,u=c.top,s=Math.floor(Math.abs(parseFloat(r)-parseFloat(a))),p=Math.floor(Math.abs(parseFloat(o)-parseFloat(u))),f=r===a&&p===parseInt(l)||o===u&&s===parseInt(i);return f},checkWin:function(){var t=this.$refs.block;return t.every((function(t){var e=t.style,n=e.left,r=e.top,o=t.dataset,i=o.correctx,l=o.correcty,c=parseInt(n)===parseInt(i)&&parseInt(r)===parseInt(l);return c}))},winGame:function(t){var e=this;setTimeout((function(){alert("牛逼!!!"),t.style.opacity=1,setTimeout((function(){e.goToNextLevel()}),300)}),300)},goToNextLevel:function(){var t=window.confirm("要玩下一关吗？");t&&this.$emit("next")}}},s=u,p=(n("95eb"),n("2877")),f=Object(p["a"])(s,l,c,!1,null,null,null),h=f.exports,d={components:{DPuzzle:h},data:function(){return{level:0,puzzleConfig:[{row:3,col:3,img:n("8554")},{row:4,col:4,img:n("405a")},{row:5,col:5,img:n("11d9")},{row:6,col:6,img:n("bafb")},{row:8,col:8,img:n("4d0f")}]}},methods:{handleNext:function(){if(++this.level==this.puzzleConfig.length){var t=window.confirm("已经是最后一关了，要重新开始不？");t&&(this.level=0)}}}},b=d,g=Object(p["a"])(b,o,i,!1,null,null,null),y=g.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(y)}}).$mount("#app")},"76b7":function(t,e,n){},8554:function(t,e,n){t.exports=n.p+"img/1.2eb4871d.jpg"},"95eb":function(t,e,n){"use strict";var r=n("76b7"),o=n.n(r);o.a},bafb:function(t,e,n){t.exports=n.p+"img/4.43859294.jpg"}});
//# sourceMappingURL=app.2cea2161.js.map